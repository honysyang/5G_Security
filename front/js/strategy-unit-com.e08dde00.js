"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[8619],{85999:function(e,a,l){l.r(a),l.d(a,{default:function(){return b}});var t=l(20641),i=l(72644);const o=(0,t.Lk)("div",{class:"left-panel"},null,-1),s={class:"right-panel"},r={class:"right-panel-search"},n={key:0};function c(e,a,l,c,p,d){const u=(0,t.g2)("el-option"),m=(0,t.g2)("el-select"),h=(0,t.g2)("el-button"),b=(0,t.g2)("el-header"),w=(0,t.g2)("el-switch"),f=(0,t.g2)("el-table-column"),g=(0,t.g2)("scTable"),v=(0,t.g2)("el-main"),k=(0,t.g2)("detail-view"),_=(0,t.g2)("el-drawer"),I=(0,t.g2)("el-container");return(0,t.uX)(),(0,t.Wv)(I,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[o,(0,t.Lk)("div",s,[(0,t.Lk)("div",r,[(0,t.bF)(m,{modelValue:p.search.actions,"onUpdate:modelValue":a[0]||(a[0]=e=>p.search.actions=e),placeholder:"状态",clearable:"",style:{width:"200px"}},{default:(0,t.k6)((()=>[(0,t.bF)(u,{label:"禁用",value:"0"}),(0,t.bF)(u,{label:"启用",value:"1"})])),_:1},8,["modelValue"]),(0,t.bF)(h,{type:"primary",icon:"el-icon-search",onClick:d.upsearch},null,8,["onClick"])])])])),_:1}),(0,t.bF)(v,{class:"nopadding"},{default:(0,t.k6)((()=>[(0,t.bF)(g,{ref:"table",apiObj:p.list.apiObj,column:p.list.column,params:p.params,"row-key":"id",stripe:""},{Timestamp:(0,t.k6)((e=>[(0,t.eW)((0,i.v_)(d.showTime(e.row.Timestamp)),1)])),actions:(0,t.k6)((e=>[e.row.actions?((0,t.uX)(),(0,t.Wv)(w,{key:1,modelValue:e.row.actions,"onUpdate:modelValue":a=>e.row.actions=a,"inline-prompt":"","active-icon":p.disposeIconList.on,"inactive-icon":p.disposeIconList.off,"active-value":"1","inactive-value":"0",loading:e.row.disposeLoadding,"before-change":()=>d.beforeChangeDisposeStatus(e.row)},null,8,["modelValue","onUpdate:modelValue","active-icon","inactive-icon","loading","before-change"])):((0,t.uX)(),(0,t.CE)("span",n,"--"))])),default:(0,t.k6)((()=>[(0,t.bF)(f,{label:"操作",fixed:"right",align:"center",width:"100"},{default:(0,t.k6)((e=>[(0,t.bF)(h,{text:"",type:"primary",size:"small",onClick:a=>d.table_view(e.row)},{default:(0,t.k6)((()=>[(0,t.eW)("查看")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["apiObj","column","params"])])),_:1}),(0,t.bF)(_,{modelValue:p.drawer,"onUpdate:modelValue":a[1]||(a[1]=e=>p.drawer=e),title:"详情",size:"80%"},{default:(0,t.k6)((()=>[(0,t.bF)(k,{params:p.drawerParams},null,8,["params"])])),_:1},8,["modelValue"])])),_:1})}var p=l(48548),d=l(26759),u={name:"ngap",components:{DetailView:d["default"]},data(){return{params:{label:"Default_WEB"},list:{apiObj:this.$API.strategy.unit.page,column:[{label:"策略名称",prop:"name",width:"150"},{label:"目的IP",prop:"dst_ip",width:"150",showOverflowTooltip:!0},{label:"目的IMEI",prop:"dst_equipment",width:"150",showOverflowTooltip:!0},{label:"源IP",prop:"src_ip",width:"150",showOverflowTooltip:!0},{label:"源端口",prop:"src_port",width:"100"},{label:"源IMEI",prop:"src_equipment",showOverflowTooltip:!0},{label:"源5G-GUTI",prop:"src_guti"},{label:"源IMSI",prop:"src_imsi"},{label:"状态",prop:"actions",width:"100"},{label:"协议类型",prop:"protocols",width:"120"}]},disposeIconList:{on:p.Check,off:p.Close},search:{action:"",label:"Default_WEB"},drawer:!1,drawerParams:{}}},computed:{showTime(){return e=>this.$moment(e).utc().format("YYYY-MM-DD HH:mm:ss")}},created(){},methods:{upsearch(){this.$refs.table.upData(this.search)},async beforeChangeDisposeStatus(e){e.disposeLoadding=!0;let a={policy_id:e.id,action:"0"==e.actions?"1":"0"},l=await this.$API.strategy.unit.action.put(a);return 200==l.status?(e.disposeLoadding=!1,this.$message.success("处置成功!"),!0):(e.disposeLoadding=!1,this.$message.error("处置失败!"),!1)},table_view(e){this.drawerParams={id:e.id},this.drawer=!0}}},m=l(66262);const h=(0,m.A)(u,[["render",c]]);var b=h}}]);