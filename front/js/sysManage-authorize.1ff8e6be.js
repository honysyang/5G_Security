"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[9385],{34722:function(e,a,t){t.r(a),t.d(a,{default:function(){return v}});var l=t(20641);const s=e=>((0,l.Qi)("data-v-66219bdc"),e=e(),(0,l.jt)(),e),i={class:"box"},o=s((()=>(0,l.Lk)("div",{class:"title"},[(0,l.Lk)("b"),(0,l.Lk)("span",null,"基本信息")],-1))),n={class:"base"},u=s((()=>(0,l.Lk)("div",{class:"imglogo"},[(0,l.Lk)("img",{src:"img/authorize.png",alt:""})],-1))),d={class:"baseinfo"},r=s((()=>(0,l.Lk)("label",null,"客户名称：",-1))),c=s((()=>(0,l.Lk)("span",null,"研发TEST",-1))),p=s((()=>(0,l.Lk)("label",null,"Device ID：",-1))),b=s((()=>(0,l.Lk)("span",null,"82CC25A",-1))),f={class:""},m=s((()=>(0,l.Lk)("div",{class:"title"},[(0,l.Lk)("b"),(0,l.Lk)("span",null,"授权信息")],-1)));function k(e,a,t,s,k,g){const h=(0,l.g2)("Monitor"),L=(0,l.g2)("el-icon"),w=(0,l.g2)("User"),v=(0,l.g2)("Upload"),y=(0,l.g2)("el-button"),F=(0,l.g2)("el-upload"),_=(0,l.g2)("el-table-column"),D=(0,l.g2)("el-table"),U=(0,l.gN)("loading");return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",i,[o,(0,l.Lk)("div",n,[u,(0,l.Lk)("div",d,[(0,l.Lk)("p",null,[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(h)])),_:1}),r,c]),(0,l.Lk)("p",null,[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(w)])),_:1}),p,b])]),(0,l.Lk)("div",f,[(0,l.bF)(F,{"file-list":k.fileList,"onUpdate:fileList":a[0]||(a[0]=e=>k.fileList=e),class:"upload-demo",action:"https://192.168.181.60:7000/ais_upload",data:k.upData,"show-file-list":!1,limit:1,"on-success":g.fileSuccess,"before-upload":g.beforeUpload},{default:(0,l.k6)((()=>[(0,l.bF)(y,{type:"primary"},{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(v)])),_:1}),(0,l.eW)("导入授权文件 ")])),_:1})])),_:1},8,["file-list","data","on-success","before-upload"])])]),m,(0,l.bF)(D,{data:k.tableData,style:{width:"100%","font-size":"14px"},"row-class-name":g.tableRowClassName},{default:(0,l.k6)((()=>[(0,l.bF)(_,{prop:"name",label:"模块名称",width:"180"}),(0,l.bF)(_,{prop:"action",label:"状态",width:"180"}),(0,l.bF)(_,{prop:"type",label:"类型",width:"180"}),(0,l.bF)(_,{prop:"time",label:"过期日程"})])),_:1},8,["data","row-class-name"])])),[[U,k.loading]])}t(28743);var g=t(48548),h={components:{Monitor:g.Monitor,User:g.User,Upload:g.Upload},data(){return{tableData:[{key:"com",name:"所有模块",action:"过期",type:"完整版",time:"2024-12-31"}],fileList:[],loading:!1,upData:{}}},created(){let e=window.localStorage.getItem("fileKey");e&&this.tableData.push(JSON.parse(e));var a=this.$TOOL.data.get("USER_INFO");this.upData={user_id:Number(a.user_id),fileType:"lic"}},methods:{beforeUpload(){this.loading=!0},fileSuccess(e){200==e.code&&(e.status?(this.$message.success("上传成功!"),setTimeout((()=>{let a={key:"upfile",name:"所有模块",action:"使用中",type:"完整版",time:this.$moment(e.current_time).add(1,"year").format("YYYY-MM-DD")};window.localStorage.setItem("fileKey",JSON.stringify(a)),this.tableData.push(a),this.loading=!1}),3e3)):(this.fileList=[],setTimeout((()=>{this.loading=!1,this.$message.error(e.message)}),3e3)))},tableRowClassName(e){if("upfile"==e.row.key)return"ssss"}}},L=t(66262);const w=(0,L.A)(h,[["render",k],["__scopeId","data-v-66219bdc"]]);var v=w}}]);