"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[6202],{26577:function(e,a,l){l.r(a),l.d(a,{default:function(){return b}});var t=l(20641),s=l(72644);const i={class:"left-panel"},n={class:"right-panel"},r={class:"right-panel-search"};function o(e,a,l,o,c,d){const u=(0,t.g2)("el-button"),h=(0,t.g2)("el-input"),p=(0,t.g2)("el-option"),m=(0,t.g2)("el-select"),b=(0,t.g2)("el-header"),g=(0,t.g2)("el-table-column"),f=(0,t.g2)("el-popconfirm"),k=(0,t.g2)("el-button-group"),_=(0,t.g2)("scTable"),w=(0,t.g2)("el-main"),y=(0,t.g2)("detail-view"),v=(0,t.g2)("el-drawer"),$=(0,t.g2)("el-container"),C=(0,t.g2)("save-dialog");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)($,null,{default:(0,t.k6)((()=>[(0,t.bF)(b,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",i,[(0,t.bF)(u,{type:"primary",icon:"el-icon-plus",onClick:d.add},null,8,["onClick"]),(0,t.bF)(u,{type:"danger",plain:"",icon:"el-icon-delete",disabled:0==c.selection.length,onClick:d.batch_del},null,8,["disabled","onClick"])]),(0,t.Lk)("div",n,[(0,t.Lk)("div",r,[(0,t.bF)(h,{modelValue:c.search.name_keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>c.search.name_keyword=e),placeholder:"策略名称",clearable:""},null,8,["modelValue"]),(0,t.bF)(m,{modelValue:c.search.actions,"onUpdate:modelValue":a[1]||(a[1]=e=>c.search.actions=e),placeholder:"状态",clearable:"",style:{width:"200px"}},{default:(0,t.k6)((()=>[(0,t.bF)(p,{label:"禁用",value:"0"}),(0,t.bF)(p,{label:"启用",value:"1"})])),_:1},8,["modelValue"]),(0,t.bF)(u,{type:"primary",icon:"el-icon-search",onClick:d.upsearch},null,8,["onClick"])])])])),_:1}),(0,t.bF)(w,{class:"nopadding"},{default:(0,t.k6)((()=>[(0,t.bF)(_,{ref:"table",apiObj:c.list.apiObj,column:c.list.column,params:c.params,"row-key":"id",stripe:"",onSelectionChange:d.selectionChange},{insert_time:(0,t.k6)((e=>[(0,t.eW)((0,s.v_)(d.showTime(e.row.insert_time)),1)])),default:(0,t.k6)((()=>[(0,t.bF)(g,{type:"selection",width:"50"}),(0,t.bF)(g,{label:"操作",fixed:"right",align:"center",width:"200"},{default:(0,t.k6)((e=>[(0,t.bF)(k,null,{default:(0,t.k6)((()=>[(0,t.bF)(u,{text:"",type:"primary",size:"small",onClick:a=>d.table_view(e.row)},{default:(0,t.k6)((()=>[(0,t.eW)("查看")])),_:2},1032,["onClick"]),(0,t.bF)(u,{text:"",type:"primary",size:"small",onClick:a=>d.table_edit(e.row,e.$index)},{default:(0,t.k6)((()=>[(0,t.eW)("编辑")])),_:2},1032,["onClick"]),(0,t.bF)(f,{title:"确定删除吗？",onConfirm:a=>d.table_del(e.row,e.$index)},{reference:(0,t.k6)((()=>[(0,t.bF)(u,{text:"",type:"primary",size:"small"},{default:(0,t.k6)((()=>[(0,t.eW)("删除")])),_:1})])),_:2},1032,["onConfirm"])])),_:2},1024)])),_:1})])),_:1},8,["apiObj","column","params","onSelectionChange"])])),_:1}),(0,t.bF)(v,{modelValue:c.drawer,"onUpdate:modelValue":a[2]||(a[2]=e=>c.drawer=e),title:"详情",size:"80%"},{default:(0,t.k6)((()=>[(0,t.bF)(y,{params:c.drawerParams},null,8,["params"])])),_:1},8,["modelValue"])])),_:1}),c.dialog.save?((0,t.uX)(),(0,t.Wv)(C,{key:0,ref:"saveDialog",onSuccess:d.handleSaveSuccess,onClosed:a[3]||(a[3]=e=>c.dialog.save=!1)},null,8,["onSuccess"])):(0,t.Q3)("",!0)],64)}var c=l(48548),d=l(60754),u=l(20050),h={name:"ngap",components:{DetailView:d["default"],saveDialog:u["default"]},data(){return{params:{label:""},selection:[],list:{apiObj:this.$API.sysManage.assetNet.page,column:[{label:"网元名称",prop:"nf_name"},{label:"网元IP",prop:"nf_ip",width:"150"},{label:"网元端口",prop:"nf_ports"},{label:"网元类型",prop:"nf_type",width:"100"},{label:"网元配置策略",prop:"nf_configure_policies",width:"100"},{label:"创建时间",prop:"insert_time"}]},disposeIconList:{on:c.Check,off:c.Close},search:{name_keyword:"",action:"",label:""},drawer:!1,drawerParams:{},dialog:{save:!1}}},computed:{showTime(){return e=>this.$moment(e).utc().format("YYYY-MM-DD HH:mm:ss")}},created(){},methods:{upsearch(){this.$refs.table.upData(this.search)},table_view(e){this.drawerParams={id:e.id},this.drawer=!0},add(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open()}))},handleSaveSuccess(){this.$refs.table.refresh()},selectionChange(e){this.selection=e},async batch_del(){this.$confirm(`确定删除选中的 ${this.selection.length} 项吗？`,"提示",{type:"warning"}).then((()=>{console.log(this.selection);let e={id:this.selection.map((e=>e.id)).join(",")};this.$API.sysManage.assetNet.del.delete(e).then((e=>{200==e.status?(this.$refs.table.refresh(),this.$message.success("操作成功")):this.$alert(e.message,"提示",{type:"error"})})),this.$refs.table.refresh(),this.$message.success("操作成功")})).catch((()=>{}))},async table_del(e){let a={id:`${e.id}`},l=await this.$API.sysManage.assetNet.del.delete(a);200==l.status?(this.$refs.table.refresh(),this.$message.success("操作成功")):this.$alert(l.message,"提示",{type:"error"})},table_edit(e){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(e)}))}}},p=l(66262);const m=(0,p.A)(h,[["render",o]]);var b=m}}]);