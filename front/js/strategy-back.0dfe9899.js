"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[9804],{46310:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var l=t(20641),r=t(72644);const s=(0,l.Lk)("div",{class:"left-panel"},null,-1),i={class:"right-panel"},o={class:"right-panel-search"};function p(e,a,t,p,d,n){const c=(0,l.g2)("el-input"),u=(0,l.g2)("el-button"),m=(0,l.g2)("el-header"),h=(0,l.g2)("el-popconfirm"),b=(0,l.g2)("el-table-column"),w=(0,l.g2)("scTable"),f=(0,l.g2)("el-main"),_=(0,l.g2)("detail-view"),k=(0,l.g2)("el-drawer"),g=(0,l.g2)("el-container");return(0,l.uX)(),(0,l.Wv)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[s,(0,l.Lk)("div",i,[(0,l.Lk)("div",o,[(0,l.bF)(c,{modelValue:d.search.name_keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>d.search.name_keyword=e),placeholder:"策略名称",clearable:""},null,8,["modelValue"]),(0,l.bF)(u,{type:"primary",icon:"el-icon-search",onClick:n.upsearch},null,8,["onClick"])])])])),_:1}),(0,l.bF)(f,{class:"nopadding",style:{"margin-top":"10px"}},{default:(0,l.k6)((()=>[(0,l.bF)(w,{ref:"table",apiObj:d.list.apiObj,column:d.list.column,params:d.params,"row-key":"id",stripe:""},{Timestamp:(0,l.k6)((e=>[(0,l.eW)((0,r.v_)(n.showTime(e.row.Timestamp)),1)])),default:(0,l.k6)((()=>[(0,l.bF)(b,{label:"操作",fixed:"right",align:"center",width:"200"},{default:(0,l.k6)((e=>[(0,l.bF)(u,{text:"",type:"primary",size:"small",onClick:a=>n.table_back(e.row)},{default:(0,l.k6)((()=>[(0,l.eW)("还原")])),_:2},1032,["onClick"]),(0,l.bF)(u,{text:"",type:"primary",size:"small",onClick:a=>n.table_view(e.row)},{default:(0,l.k6)((()=>[(0,l.eW)("查看")])),_:2},1032,["onClick"]),(0,l.bF)(h,{title:"确定删除吗？",onConfirm:a=>n.table_del(e.row,e.$index)},{reference:(0,l.k6)((()=>[(0,l.bF)(u,{text:"",type:"primary",size:"small"},{default:(0,l.k6)((()=>[(0,l.eW)("删除")])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["apiObj","column","params"])])),_:1}),(0,l.bF)(k,{modelValue:d.drawer,"onUpdate:modelValue":a[1]||(a[1]=e=>d.drawer=e),title:"详情",size:"80%"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{params:d.drawerParams},null,8,["params"])])),_:1},8,["modelValue"])])),_:1})}var d=t(48548),n=t(39293),c={name:"ngap",components:{DetailView:n["default"]},data(){return{params:{status:"-1"},list:{apiObj:this.$API.strategy.backbox.page,column:[{label:"策略名称",prop:"name",width:"150"},{label:"目的IP",prop:"dst_ip",width:"150",showOverflowTooltip:!0},{label:"目的IMEI",prop:"dst_equipment",width:"150",showOverflowTooltip:!0},{label:"源IP",prop:"src_ip",width:"150",showOverflowTooltip:!0},{label:"源端口",prop:"src_port",width:"100"},{label:"源IMEI",prop:"src_equipment",showOverflowTooltip:!0},{label:"源5G-GUTI",prop:"src_guti",width:150,showOverflowTooltip:!0},{label:"源IMSI",prop:"src_imsi",showOverflowTooltip:!0},{label:"协议类型",prop:"protocols",width:"120"}]},disposeIconList:{on:d.Check,off:d.Close},search:{name_keyword:""},drawer:!1,drawerParams:{}}},computed:{showTime(){return e=>this.$moment(e).utc().format("YYYY-MM-DD HH:mm:ss")}},created(){},methods:{table_view(e){this.drawerParams={id:e.id},this.drawer=!0},upsearch(){this.$refs.table.upData(this.search)},async table_del(e){let a={id:`${e.id}`};var t=this.$TOOL.data.get("USER_INFO");a.user_id=t.user_id;let l=await this.$API.strategy.backbox.del.delete(a);200==l.status?(this.$refs.table.refresh(),this.$message.success("操作成功")):this.$alert(l.message,"提示",{type:"error"})},async table_back(e){let a={policy_id:`${e.id}`,status:"0"};var t=this.$TOOL.data.get("USER_INFO");a.user_id=t.user_id;let l=await this.$API.strategy.unit.del.put(a);200==l.status?(this.$refs.table.refresh(),this.$message.success("操作成功")):this.$alert(l.message,"提示",{type:"error"})}}},u=t(66262);const m=(0,u.A)(c,[["render",p]]);var h=m}}]);